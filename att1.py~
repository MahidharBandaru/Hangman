from Tkinter import *
import random
import tkMessageBox

def word_generator(num):
	if(num==1):
		listofwords=["PEOPLE","HISTORY","INFORMATION","GOVERNMENT","COMPUTER","SYSTEM","HEALTH","UNDERSTANDING","UNCOPYRIGHTABLE","PROXIMITY"]
	elif(num==2):
		listofwords=["ELEPHANT","ALLIGATOR","EAGLE","DOLPHIN","JELLYFISH","NUDIBRANCH","STARFISH","SEAGULL","SQUIRREL"]
	elif(num==3):
		listofwords=["BRAZIL","INDIA","AMERICA","ARGENTINA","GERMANY","SPAIN","PORTUGAL","PAKISTAN","AFGANISTAN","CHINA"]
	elif(num==4):
		listofwords=["PHYSICS","CHEMISTY","BIOLOGY","BIOTECHNOLOGY","ENGINEERING","HISTORY","GEOGRAPHY","PSYCHOLOGY","SOCIOLOGY","ECONOMICS"]
	num=random.randint(0,len(listofwords)-1)
	return listofwords[num]

def tries_generator(diff):
	if(diff==5):
		tries=6
	if(diff==6):
		tries=5
	if(diff==7):
		tries=4
	return tries

def startgame(secret, tryvalue, setup):
	global tries
	tries=tryvalue
	print secret
	check=[]
	word=[]
	letters_entered=[]
	entry=StringVar()
	for i in secret:
		if i not in check:
			check.append(i)
	setup.withdraw()
	game=Toplevel()
	game.title="GAME"
	pic=PhotoImage(file="gallows.gif")
	label_image=Label(game,image=pic).grid(row=0)
	label_letters_entered=Label(game,text=" ".join(letters_entered)).grid(row=1)
	label_word=Label(game,text="_ "*len(secret)).grid(row=2)
	entrybox=Entry(game,textvariable=entry).grid(row=3)
	letterguessbutton=Button(game,text="GUESS LETTER",command=lambda:letterguess(entry.get(),letters_entered,secret,word,check,game,label_image,label_word)).grid(row=4)
	wordguessbutton=Button(game,text="GUESS WORD (ONLY ONCE)",command=lambda:win_lose_wordguessbutton(game,entry.get(),secret,label_image)).grid(row=5)
	game.mainloop()

def win_lose_wordguessbutton(window, enteredstring, secret,label_image):
	if(enteredstring.upper()==secret):
		window.withdraw()
		tkMessageBox.showinfo("WIN", "YOU WIN! The word was "+secret)
	else:
		label_image.configure(image=PictureImage(file="dead.gif"))
		tkMessageBox.showinfo("LOST", "GAME OVER\nYou lost! The word was "+secret)
		window.withdraw()

def letterguess(letter,letters_entered,secret,word,check,game,label_image,label_word):
	if len(letter)<1:
		tkMessageBox.showinfo("NO INPUT", "Please enter something")
	else:
		letter=letter[0].upper()
		if letter in letters_entered:
			tkMessageBox.showinfo("ALREADY ENTERED", "You have already entererd this letter")
		else:
			letters_entered.append(letter)
			if letter in secret:
				word.append(letter)
				label_word_modifier(label_word,secret,word)
				if(sorted(word)==sorted(check)):
					game.withdraw()
					tkMessageBox.showinfo("WIN", "YOU WIN! The word was "+secret)
			else:
				tries-=1
				hangmandisplay(label_image)
	if(tries==0):
		hangmandisplay(label_image)
		tkMessageBox.showinfo("LOST", "GAME OVER\nYou lost! The word was "+secret)
		game.withdraw()
def label_word_modifier(label_word,secret,word):
	l=[]
	for i in secret:
		if i in word:
			l.append(i)
		else:
			l.append('_')
	label_word.config(text=" ".join(l))
def hangmandisplay(label_image):
	if(tries==5):
		label_image.config(image=PhotoImage(file="head.gif"))
        elif(tries==4):
		label_image.config(image=PhotoImage(file="noarms.gif"))
	elif(tries==3):
		label_image.config(image=PhotoImage(file="rightarm.gif"))
	elif(tries==2):
		label_image.config(image=PhotoImage(file="nolegs.gif"))
	elif(tries==1):
		label_image.config(image=PhotoImage(file="almostdead.gif"))
	elif(tries==0):
		label_image.config(image=PhotoImage(file="dead.gif"))
	


def gamesetup():
	setup=Toplevel()
	setup.title="GAME SETUP"
	word_var=IntVar()
	diff_var=IntVar()
	rb1=Radiobutton(setup,text="GENERAL ENGLISH",value=1,variable=word_var).grid(row=0,sticky=W)
	rb2=Radiobutton(setup,text="ANIMALS",value=2,variable=word_var).grid(row=1,sticky=W)
	rb3=Radiobutton(setup,text="COUNTRIES",value=3,variable=word_var).grid(row=2,sticky=W)
	rb4=Radiobutton(setup,text="STREAMS OF STUDY",value=4,variable=word_var).grid(row=3,sticky=W)
	rb5=Radiobutton(setup,text="EASY",value=5,variable=diff_var).grid(row=0,column=1,sticky=W)
	rb6=Radiobutton(setup,text="MEDIUM",value=6,variable=diff_var).grid(row=1,column=1,sticky=W)
	rb7=Radiobutton(setup,text="HARD",value=7,variable=diff_var).grid(row=2,column=1,sticky=W)
	playbutton=Button(setup,text="START",command=lambda:startgame(word_generator(word_var.get()),tries_generator(diff_var.get()),setup)).grid(row=4,columnspan=2)
	setup.mainloop()


root=Tk()
root.title("HANGMAN")
label1=Label(root,text="****HANGMAN****",font="Verdana 40 bold").grid(row=0,columnspan=2)
pic=PhotoImage(file="dead.gif")
label2=Label(root,image=pic).grid(row=1,columnspan=2)	
playbutton=Button(root,text="PLAY",width=20,command=gamesetup).grid(row=2,column=0)
quitbutton=Button(root,text="QUIT",command=root.destroy,width=20).grid(row=2,column=1)
root.mainloop()
